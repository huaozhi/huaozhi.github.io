<!DOCTYPE html>
<html>
<meta  lang="zh-CN" >
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
    content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="theme-color" content="#fff" id="theme-color">
  <link rel="icon" href="/img/logo.jpg">
  <title>我的博客</title>
  <script>
    // control reverse button
    var reverseDarkList = {
      dark: 'light',
      light: 'dark'
    };
    var themeColor = {
      dark: '#1c1c1e',
      light: '#fff'
    }
    // get the data of css prefers-color-scheme
    var getCssMediaQuery = function() {
      return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
    };
    // reverse current darkmode setting function
    var reverseDarkModeSetting = function() {
      var setting = localStorage.getItem('user-color-scheme');
      if(reverseDarkList[setting]) {
        setting = reverseDarkList[setting];
      } else if(setting === null) {
        setting = reverseDarkList[getCssMediaQuery()];
      } else {
        return;
      }
      localStorage.setItem('user-color-scheme', setting);
      return setting;
    };
    // apply current darkmode setting
    var setDarkmode = function(mode) {
      var setting = mode || localStorage.getItem('user-color-scheme');
      if(setting === getCssMediaQuery()) {
        document.documentElement.removeAttribute('data-user-color-scheme');
        localStorage.removeItem('user-color-scheme');
        document.getElementById('theme-color').content = themeColor[setting];
      } else if(reverseDarkList[setting]) {
        document.documentElement.setAttribute('data-user-color-scheme', setting);
        document.getElementById('theme-color').content = themeColor[setting];
      } else {
        document.documentElement.removeAttribute('data-user-color-scheme');
        localStorage.removeItem('user-color-scheme');
        document.getElementById('theme-color').content = themeColor[getCssMediaQuery()];
      }
    };
    setDarkmode();
  </script>
  <script>
    function loadScript(url, cb) {
      var script = document.createElement('script');
      script.src = url;
      if (cb) script.onload = cb;
      script.async = true;
      document.body.appendChild(script);
    }
  </script>
  
  <link rel="preload" href="//at.alicdn.com/t/font_1946621_vpj3dq9ceqa.css" as="style" >
  <link rel="preload" href="//at.alicdn.com/t/font_1952792_89b4ac4k4up.css" as="style" >
  
  <link rel="preload" href="//cdn.jsdelivr.net/npm/fslightbox@3.1.0/index.min.js" as="script">
  
  
  <link rel="preload" href="/js/lib/lozad.min.js" as="script">
  
  
  
  
  
  <link rel="prefetch" href="//cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" as="script">
  
  
  
  <link rel="prefetch" href="//unpkg.com/valine/dist/Valine.min.js" as="script">
  
  
  
  
<link rel="stylesheet" href="/css/main.css">

  
  
<link rel="stylesheet" href="//at.alicdn.com/t/font_1946621_vpj3dq9ceqa.css">

  
  
<link rel="stylesheet" href="//at.alicdn.com/t/font_1952792_89b4ac4k4up.css">

  
  
  
<meta name="generator" content="Hexo 5.4.0"></head>


<body>
  <div class="wrapper">
    
    <nav class="navbar">
  <div class="navbar-logo">
    <span class="navbar-logo-main">
      
      <img class="navbar-logo-img" src="/img/logo.jpg">
      
      <span class="navbar-logo-dsc">我的博客</span>
    </span>
  </div>
  <div class="navbar-menu">
    
    <a href="/" class="navbar-menu-item">首页 </a>
    
    <a href="/archives" class="navbar-menu-item">归档 </a>
    
    <a href="/tags" class="navbar-menu-item">标签 </a>
    
    <a href="/categories" class="navbar-menu-item">分类 </a>
    
    <a href="/about" class="navbar-menu-item">关于 </a>
    
    <a href="/links" class="navbar-menu-item">友链 </a>
    
    <a class="navbar-menu-item darknavbar" id="dark"><i class="iconfont icon-weather"></i></a>
  </div>
</nav>
    
    <div class="section-wrap">
      <div class="container">
        <div class="columns">
          <main class="main-column">
<article class="card card-content">
  <header>
    <h1 class="post-title">
      3-shell语法
    </h1>
  </header>
  <div class="post-meta post-show-meta">
    <time datetime="2021-10-31T03:52:15.000Z" style="display: flex; align-items: center;">
      <i class="iconfont icon-calendar" style="margin-right: 2px;"></i>
      <span>2021-10-31</span>
    </time>
    
    <span class="dot"></span>
    
    <a href="/categories/Linux基础课/" class="post-meta-link">Linux基础课</a>
    
    
    
    <span class="dot"></span>
    <span>4.9k 字</span>
    
  </div>
  
  <div class="post-meta post-show-meta" style="margin-top: -10px;">
    <div style="display: flex; align-items: center;">
      <i class="iconfont icon-biaoqian" style="margin-right: 2px; font-size: 1.15rem;"></i>
      
      
        <a href="/tags/AcWing课程/" class="post-meta-link">AcWing课程</a>
      
    </div>
  </div>
  
  </header>
  <div id="section" class="post-content">
    <h1 id="shell语法"><a class="markdownIt-Anchor" href="#shell语法"></a> shell语法</h1>
<h2 id="概论"><a class="markdownIt-Anchor" href="#概论"></a> 概论</h2>
<p>shell是我们通过命令行与操作系统沟通的语言。</p>
<p>shell脚本可以直接在命令行中执行，也可以将一套逻辑组织成一个文件，方便复用。<br />
AC Terminal中的命令行可以看成是一个“shell脚本在逐行执行”。</p>
<p>Linux中常见的shell脚本有很多种，常见的有：</p>
<ul>
<li>
<p>Bourne Shell(/usr/bin/sh或/bin/sh)</p>
</li>
<li>
<p>Bourne Again Shell(/bin/bash)</p>
</li>
<li>
<p>C Shell(/usr/bin/csh)</p>
</li>
<li>
<p>K Shell(/usr/bin/ksh)</p>
</li>
<li>
<p>zsh</p>
<p>…</p>
</li>
</ul>
<p>Linux系统中一般默认使用bash，所以接下来讲解bash中的语法。<br />
文件开头需要写#! /bin/bash，指明bash为脚本解释器。</p>
<p><strong>学习技巧</strong><br />
不要死记硬背，遇到含糊不清的地方，可以在Terminal里实际运行一遍。</p>
<p><strong>脚本示例</strong><br />
新建一个test.sh文件，内容如下：</p>
<pre class="highlight"><code class="hljs bash"><span class="hljs-meta">#! /bin/bash</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Hello World!&quot;</span><br></code></pre>
<p><strong>运行方式</strong><br />
作为可执行文件</p>
<pre class="highlight"><code class="hljs bash">acs@9e0ebfcd82d7:~$ chmod +x test.sh  <span class="hljs-comment"># 使脚本具有可执行权限</span><br>acs@9e0ebfcd82d7:~$ ./test.sh  <span class="hljs-comment"># 当前路径下执行</span><br>Hello World!  <span class="hljs-comment"># 脚本输出</span><br>acs@9e0ebfcd82d7:~$ /home/acs/test.sh  <span class="hljs-comment"># 绝对路径下执行</span><br>Hello World!  <span class="hljs-comment"># 脚本输出</span><br>acs@9e0ebfcd82d7:~$ ~/test.sh  <span class="hljs-comment"># 家目录路径下执行</span><br>Hello World!  <span class="hljs-comment"># 脚本输出</span><br></code></pre>
<p>用解释器执行</p>
<pre class="highlight"><code class="hljs bash">acs@9e0ebfcd82d7:~$ bash test.sh<br>Hello World!  <span class="hljs-comment"># 脚本输出</span><br></code></pre>
<h2 id="注释"><a class="markdownIt-Anchor" href="#注释"></a> 注释</h2>
<p><strong>单行注释</strong><br />
每行中#之后的内容均是注释。</p>
<pre class="highlight"><code class="hljs bash"><span class="hljs-comment"># 这是一行注释</span><br><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;Hello World&#x27;</span>  <span class="hljs-comment">#  这也是注释</span><br></code></pre>
<p><strong>多行注释</strong><br />
格式：</p>
<pre class="highlight"><code class="hljs bash">:&lt;&lt;<span class="hljs-string">EOF</span><br><span class="hljs-string">第一行注释</span><br><span class="hljs-string">第二行注释</span><br><span class="hljs-string">第三行注释</span><br><span class="hljs-string">EOF</span><br></code></pre>
<p>其中EOF可以换成其它任意字符串。例如：</p>
<pre class="highlight"><code class="hljs bash">:&lt;&lt;<span class="hljs-string">abc</span><br><span class="hljs-string">第一行注释</span><br><span class="hljs-string">第二行注释</span><br><span class="hljs-string">第三行注释</span><br><span class="hljs-string">abc</span><br><br>:&lt;&lt;!<br>第一行注释<br>第二行注释<br>第三行注释<br>!<br></code></pre>
<h2 id="变量"><a class="markdownIt-Anchor" href="#变量"></a> 变量</h2>
<p><strong>定义变量</strong></p>
<p>定义变量，不需要加<code>$</code>符号，例如：</p>
<pre class="highlight"><code class="hljs bash">name1=<span class="hljs-string">&#x27;yxc&#x27;</span>  <span class="hljs-comment"># 单引号定义字符串</span><br>name2=<span class="hljs-string">&quot;yxc&quot;</span>  <span class="hljs-comment"># 双引号定义字符串</span><br>name3=yxc    <span class="hljs-comment"># 也可以不加引号，同样表示字符串</span><br></code></pre>
<p><strong>使用变量</strong></p>
<p>使用变量，需要加上<code>$</code>符号，或者<code>$&#123;&#125;</code>符号，花括号可选，主要是帮助解释器识别变量边界。</p>
<pre class="highlight"><code class="hljs bash">name=yxc<br><span class="hljs-built_in">echo</span> <span class="hljs-variable">$name</span>  <span class="hljs-comment"># 输出yxc</span><br><span class="hljs-built_in">echo</span> <span class="hljs-variable">$&#123;name&#125;</span>  <span class="hljs-comment"># 输出yxc</span><br><span class="hljs-built_in">echo</span> <span class="hljs-variable">$&#123;name&#125;</span>acwing  <span class="hljs-comment"># 输出yxcacwing</span><br></code></pre>
<p><strong>只读变量</strong></p>
<p>用<code>readonly</code>或<code>declare</code>可以将变量变为只读。</p>
<pre class="highlight"><code class="hljs bash">name = haz<br><span class="hljs-built_in">readonly</span> name <span class="hljs-comment"># name变成只读</span><br><span class="hljs-built_in">declare</span> -r name <span class="hljs-comment"># 两种写法均可</span><br>name = abc <span class="hljs-comment"># 会报错</span><br></code></pre>
<p><strong>删除变量</strong></p>
<pre class="highlight"><code class="hljs bash">name = haz<br><span class="hljs-built_in">unset</span> name<br><span class="hljs-built_in">echo</span> <span class="hljs-variable">$name</span> <span class="hljs-comment"># 输出空行</span><br></code></pre>
<p><strong>变量类型</strong></p>
<ul>
<li>
<p>自定义变量（局部变量）</p>
<p>子进程不能访问的变量</p>
</li>
<li>
<p>环境变量（全局变量）</p>
<p>子进程可以访问的变量</p>
</li>
</ul>
<p>自定义变量改为环境变量：</p>
<pre class="highlight"><code class="hljs bash">name = haz <span class="hljs-comment"># 定义变量</span><br><span class="hljs-built_in">export</span> name <span class="hljs-comment"># 第一种方法</span><br><span class="hljs-built_in">declare</span> -x name <span class="hljs-comment"># 第二种方法</span><br></code></pre>
<p>环境变量改为自定义变量：</p>
<pre class="highlight"><code class="hljs bash"><span class="hljs-built_in">export</span> name = haz <span class="hljs-comment"># 定义环境变量</span><br><span class="hljs-built_in">declare</span> +x name <span class="hljs-comment"># 改为自定义变量</span><br></code></pre>
<p><strong>字符串</strong></p>
<p>字符串可以用单引号，也可以用双引号，也可以不用引号。</p>
<p>单引号与双引号的区别：</p>
<ul>
<li>单引号中的内容会原样输出，不会执行、不会取变量；</li>
<li>双引号中的内容可以执行、可以取变量；</li>
</ul>
<pre class="highlight"><code class="hljs bash">name=yxc  <span class="hljs-comment"># 不用引号</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;hello, $name \&quot;hh\&quot;&#x27;</span>  <span class="hljs-comment"># 单引号字符串，输出 hello, $name \&quot;hh\&quot;</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;hello, <span class="hljs-variable">$name</span> \&quot;hh\&quot;&quot;</span>  <span class="hljs-comment"># 双引号字符串，输出 hello, yxc &quot;hh&quot;</span><br></code></pre>
<p>获取字符串长度:</p>
<pre class="highlight"><code class="hljs bash">name = haz<br><span class="hljs-built_in">echo</span> <span class="hljs-variable">$&#123;#name&#125;</span><br></code></pre>
<p>提取字串：</p>
<pre class="highlight"><code class="hljs bash">name=<span class="hljs-string">&quot;hello, yxc&quot;</span><br><span class="hljs-built_in">echo</span> <span class="hljs-variable">$&#123;name:0:5&#125;</span>  <span class="hljs-comment"># 提取从0开始的5个字符</span><br></code></pre>
<h2 id="默认变量"><a class="markdownIt-Anchor" href="#默认变量"></a> 默认变量</h2>
<p><strong>文件参数变量</strong></p>
<p>在执行shell脚本时，可以向脚本传递参数。<code>$1</code>是第一个参数，<code>$2</code>是第二个参数，以此类推。特殊的，<code>$0</code>是文件名（包含路径）。例如：</p>
<p>创建文件<code>test.sh</code>：</p>
<pre class="highlight"><code class="hljs bash"><span class="hljs-meta">#! /bin/bash</span><br><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;文件名：&quot;</span><span class="hljs-variable">$0</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;第一个参数：&quot;</span><span class="hljs-variable">$1</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;第二个参数：&quot;</span><span class="hljs-variable">$2</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;第三个参数：&quot;</span><span class="hljs-variable">$3</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;第四个参数：&quot;</span><span class="hljs-variable">$4</span><br></code></pre>
<p>然后执行该脚本：</p>
<pre class="highlight"><code class="hljs bash">acs@9e0ebfcd82d7:~$ chmod +x test.sh <br>acs@9e0ebfcd82d7:~$ ./test.sh 1 2 3 4<br>文件名：./test.sh<br>第一个参数：1<br>第二个参数：2<br>第三个参数：3<br>第四个参数：4<br></code></pre>
<p><strong>其他参数相关变量</strong></p>
<p><img src="https://i.loli.net/2021/10/31/DadlUmp1rxhB8ef.png" alt="image-20211031122544713" / srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20300%20300'%3E%3C/svg%3E" data-src="https://i.loli.net/2021/10/31/DadlUmp1rxhB8ef.png" class="lozad post-image"></p>
<h2 id="数组"><a class="markdownIt-Anchor" href="#数组"></a> 数组</h2>
<p>数组中可以存放多个不同类型的值，只支持一维数组，初始化时不需要指明数组大小。<br />
数组下标从0开始。</p>
<p><strong>定义</strong><br />
数组用小括号表示，元素之间用空格隔开。例如：</p>
<pre class="highlight"><code class="hljs bash">array=(1 abc <span class="hljs-string">&quot;def&quot;</span> yxc)<br></code></pre>
<p>也可以直接定义数组中某个元素的值:</p>
<pre class="highlight"><code class="hljs bash">array[0]=1<br>array[1]=abc<br>array[2]=<span class="hljs-string">&quot;def&quot;</span><br>array[3]=yxc<br></code></pre>
<p><strong>读取数组中某个元素的值</strong><br />
格式：</p>
<pre class="highlight"><code class="hljs bash"><span class="hljs-variable">$&#123;array[index]&#125;</span><br>array=(1 abc <span class="hljs-string">&quot;def&quot;</span> yxc)<br><span class="hljs-built_in">echo</span> <span class="hljs-variable">$&#123;array[0]&#125;</span><br><span class="hljs-built_in">echo</span> <span class="hljs-variable">$&#123;array[1]&#125;</span><br><span class="hljs-built_in">echo</span> <span class="hljs-variable">$&#123;array[2]&#125;</span><br><span class="hljs-built_in">echo</span> <span class="hljs-variable">$&#123;array[3]&#125;</span><br></code></pre>
<p><strong>读取整个数组</strong><br />
格式：</p>
<pre class="highlight"><code class="hljs bash"><span class="hljs-variable">$&#123;array[@]&#125;</span><br><span class="hljs-variable">$&#123;array[*]&#125;</span><br><br>array=(1 abc <span class="hljs-string">&quot;def&quot;</span> yxc)<br><br><span class="hljs-built_in">echo</span> <span class="hljs-variable">$&#123;array[@]&#125;</span>  <span class="hljs-comment"># 第一种写法</span><br><span class="hljs-built_in">echo</span> <span class="hljs-variable">$&#123;array[*]&#125;</span>  <span class="hljs-comment"># 第二种写法</span><br></code></pre>
<p><strong>数组长度</strong><br />
类似于字符串</p>
<pre class="highlight"><code class="hljs bash">array=(1 abc <span class="hljs-string">&quot;def&quot;</span> yxc)<br><br><span class="hljs-built_in">echo</span> <span class="hljs-variable">$&#123;#array[@]&#125;</span>  <span class="hljs-comment"># 第一种写法</span><br><span class="hljs-built_in">echo</span> <span class="hljs-variable">$&#123;#array[*]&#125;</span>  <span class="hljs-comment"># 第二种写法</span><br></code></pre>
<h2 id="expr命令"><a class="markdownIt-Anchor" href="#expr命令"></a> expr命令</h2>
<p><code>expr</code> 命令用于求表达式的值，格式为：</p>
<pre class="highlight"><code class="hljs bash">expr 表达式<br></code></pre>
<p>表达式说明：</p>
<ul>
<li>用空格隔开每一项</li>
<li>用反斜杠放在shell特定的字符前面（发现表达式运行错误时，可以试试转义）</li>
<li>对包含空格或其他特殊字符的字符串要用引号括起来</li>
<li>expr会在<code>stdout</code>中输出结果。如果为逻辑关系表达式，则结果为真，<code>stdout</code>为1，否则为0。</li>
<li>expr的<code>exit code</code>：如果为逻辑关系表达式，则结果为真，<code>exit code</code>为0，否则为1。</li>
</ul>
<p><strong>字符串表达式</strong></p>
<ul>
<li>
<p><code>length string</code></p>
<p>返回字符串string的长度</p>
</li>
<li>
<p><code>index string charset</code></p>
<p>返回<code>charset</code>中任意单个字符在<code>string</code>中最前面的字符位置，下标从1开始。如果在<code>string</code>中完全不存在<code>charset</code>中的字符，则返回0。</p>
</li>
<li>
<p><code>substr string position length</code></p>
<p>返回字符串<code>string</code>从<code>position</code>开始，长度为<code>length</code>的字串</p>
</li>
</ul>
<p>示例：</p>
<pre class="highlight"><code class="hljs bash">str=<span class="hljs-string">&quot;Hello World!&quot;</span><br><br><span class="hljs-built_in">echo</span> `expr length <span class="hljs-string">&quot;<span class="hljs-variable">$str</span>&quot;</span>`  <span class="hljs-comment"># ``不是单引号，表示执行该命令，输出12</span><br><span class="hljs-built_in">echo</span> `expr index <span class="hljs-string">&quot;<span class="hljs-variable">$str</span>&quot;</span> aWd`  <span class="hljs-comment"># 输出7，下标从1开始</span><br><span class="hljs-built_in">echo</span> `expr substr <span class="hljs-string">&quot;<span class="hljs-variable">$str</span>&quot;</span> 2 3`  <span class="hljs-comment"># 输出 ell</span><br></code></pre>
<p><strong>整数表达式</strong></p>
<p>expr支持普通的算术操作，算术表达式优先级低于字符串表达式，高于逻辑关系表达式。</p>
<ul>
<li><code>+ -</code><br />
加减运算。两端参数会转换为整数，如果转换失败则报错。</li>
</ul>
<ul>
<li><code>/ %</code><br />
乘，除，取模运算。两端参数会转换为整数，如果转换失败则报错。</li>
<li><code>()</code> 可以该表优先级，但需要用反斜杠转义</li>
</ul>
<p>示例：</p>
<pre class="highlight"><code class="hljs bash">a=3<br>b=4<br><br><span class="hljs-built_in">echo</span> `expr <span class="hljs-variable">$a</span> + <span class="hljs-variable">$b</span>`  <span class="hljs-comment"># 输出7</span><br><span class="hljs-built_in">echo</span> `expr <span class="hljs-variable">$a</span> - <span class="hljs-variable">$b</span>`  <span class="hljs-comment"># 输出-1</span><br><span class="hljs-built_in">echo</span> `expr <span class="hljs-variable">$a</span> \* <span class="hljs-variable">$b</span>`  <span class="hljs-comment"># 输出12，*需要转义</span><br><span class="hljs-built_in">echo</span> `expr <span class="hljs-variable">$a</span> / <span class="hljs-variable">$b</span>`  <span class="hljs-comment"># 输出0，整除</span><br><span class="hljs-built_in">echo</span> `expr <span class="hljs-variable">$a</span> % <span class="hljs-variable">$b</span>` <span class="hljs-comment"># 输出3</span><br><span class="hljs-built_in">echo</span> `expr \( <span class="hljs-variable">$a</span> + 1 \) \* \( <span class="hljs-variable">$b</span> + 1 \)`  <span class="hljs-comment"># 输出20，值为(a + 1) * (b + 1)</span><br></code></pre>
<p><strong>逻辑关系表达式</strong></p>
<ul>
<li><code>|</code><br />
如果第一个参数非空且非0，则返回第一个参数的值，否则返回第二个参数的值，但要求第二个参数的值也是非空或非0，否则返回0。如果第一个参数是非空或非0时，不会计算第二个参数。</li>
<li><code>&amp;</code><br />
如果两个参数都非空且非0，则返回第一个参数，否则返回0。如果第一个参为0或为空，则不会计算第二个参数。</li>
<li><code>&lt; &lt;= = == != &gt;= &gt;</code><br />
比较两端的参数，如果为true，则返回1，否则返回0。”==”是”=”的同义词。”expr”首先尝试将两端参数转换为整数，并做算术比较，如果转换失败，则按字符集排序规则做字符比较。</li>
<li><code>()</code> 可以该表优先级，但需要用反斜杠转义</li>
</ul>
<p>示例：</p>
<pre class="highlight"><code class="hljs bash">a=3<br>b=4<br><br><span class="hljs-built_in">echo</span> `expr <span class="hljs-variable">$a</span> \&gt; <span class="hljs-variable">$b</span>`  <span class="hljs-comment"># 输出0，&gt;需要转义</span><br><span class="hljs-built_in">echo</span> `expr <span class="hljs-variable">$a</span> <span class="hljs-string">&#x27;&lt;&#x27;</span> <span class="hljs-variable">$b</span>`  <span class="hljs-comment"># 输出1，也可以将特殊字符用引号引起来</span><br><span class="hljs-built_in">echo</span> `expr <span class="hljs-variable">$a</span> <span class="hljs-string">&#x27;&gt;=&#x27;</span> <span class="hljs-variable">$b</span>`  <span class="hljs-comment"># 输出0</span><br><span class="hljs-built_in">echo</span> `expr <span class="hljs-variable">$a</span> \&lt;\= <span class="hljs-variable">$b</span>`  <span class="hljs-comment"># 输出1</span><br><br>c=0<br>d=5<br><br><span class="hljs-built_in">echo</span> `expr <span class="hljs-variable">$c</span> \&amp; <span class="hljs-variable">$d</span>`  <span class="hljs-comment"># 输出0</span><br><span class="hljs-built_in">echo</span> `expr <span class="hljs-variable">$a</span> \&amp; <span class="hljs-variable">$b</span>`  <span class="hljs-comment"># 输出3</span><br><span class="hljs-built_in">echo</span> `expr <span class="hljs-variable">$c</span> \| <span class="hljs-variable">$d</span>`  <span class="hljs-comment"># 输出5</span><br><span class="hljs-built_in">echo</span> `expr <span class="hljs-variable">$a</span> \| <span class="hljs-variable">$b</span>`  <span class="hljs-comment"># 输出3</span><br></code></pre>
<h2 id="read命令"><a class="markdownIt-Anchor" href="#read命令"></a> read命令</h2>
<p><code>read</code>命令用于从标准输入中读取单行数据。当读到文件结束符时，<code>exit code</code>为1，否则为0。</p>
<p><strong>参数说明</strong></p>
<ul>
<li>-p: 后面可以接提示信息</li>
<li>-t：后面跟秒数，定义输入字符的等待时间，超过等待时间后会自动忽略此命令</li>
</ul>
<p>实例：</p>
<pre class="highlight"><code class="hljs bash">acs@9e0ebfcd82d7:~$ <span class="hljs-built_in">read</span> name  <span class="hljs-comment"># 读入name的值</span><br>acwing yxc  <span class="hljs-comment"># 标准输入</span><br>acs@9e0ebfcd82d7:~$ <span class="hljs-built_in">echo</span> <span class="hljs-variable">$name</span>  <span class="hljs-comment"># 输出name的值</span><br>acwing yxc  <span class="hljs-comment">#标准输出</span><br>acs@9e0ebfcd82d7:~$ <span class="hljs-built_in">read</span> -p <span class="hljs-string">&quot;Please input your name: &quot;</span> -t 30 name  <span class="hljs-comment"># 读入name的值，等待时间30秒</span><br>Please input your name: acwing yxc  <span class="hljs-comment"># 标准输入</span><br>acs@9e0ebfcd82d7:~$ <span class="hljs-built_in">echo</span> <span class="hljs-variable">$name</span>  <span class="hljs-comment"># 输出name的值</span><br>acwing yxc  <span class="hljs-comment"># 标准输出</span><br></code></pre>
<h2 id="echo命令"><a class="markdownIt-Anchor" href="#echo命令"></a> echo命令</h2>
<p>echo用于输出字符串。命令格式：</p>
<pre class="highlight"><code class="hljs plaintext">echo STRING<br></code></pre>
<p><strong>显示普通字符串</strong></p>
<pre class="highlight"><code class="hljs plaintext">echo &quot;Hello AC Terminal&quot;<br>echo Hello AC Terminal  # 引号可以省略<br></code></pre>
<p><strong>显示转义字符</strong></p>
<pre class="highlight"><code class="hljs plaintext">echo &quot;\&quot;Hello AC Terminal\&quot;&quot;  # 注意只能使用双引号，如果使用单引号，则不转义<br>echo \&quot;Hello AC Terminal\&quot;  # 也可以省略双引号<br></code></pre>
<p><strong>显示变量</strong></p>
<pre class="highlight"><code class="hljs bash">name=yxc<br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;My name is <span class="hljs-variable">$name</span>&quot;</span>  <span class="hljs-comment"># 输出 My name is yxc</span><br></code></pre>
<p><strong>显示换行</strong></p>
<pre class="highlight"><code class="hljs bash"><span class="hljs-built_in">echo</span> -e <span class="hljs-string">&quot;Hi\n&quot;</span>  <span class="hljs-comment"># -e 开启转义</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;acwing&quot;</span><br></code></pre>
<p>输出结果：</p>
<p>Hi</p>
<p>acwing<br />
<strong>显示不换行</strong></p>
<pre class="highlight"><code class="hljs bash"><span class="hljs-built_in">echo</span> -e <span class="hljs-string">&quot;Hi \c&quot;</span> <span class="hljs-comment"># -e 开启转义 \c 不换行</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;acwing&quot;</span><br></code></pre>
<p>输出结果：</p>
<p>Hi acwing<br />
<strong>显示结果定向至文件</strong></p>
<pre class="highlight"><code class="hljs bash"><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Hello World&quot;</span> &gt; output.txt  <span class="hljs-comment"># 将内容以覆盖的方式输出到output.txt中</span><br></code></pre>
<p><strong>原样输出字符串，不进行转义或取变量(用单引号)</strong></p>
<pre class="highlight"><code class="hljs bash">name=acwing<br><span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;$name\&quot;&#x27;</span><br></code></pre>
<p>输出结果</p>
<p>$name&quot;<br />
<strong>显示命令的执行结果</strong></p>
<pre class="highlight"><code class="hljs bash"><span class="hljs-built_in">echo</span> `date`<br></code></pre>
<p>输出结果：</p>
<p>Wed Sep 1 11:45:33 CST 2021</p>
<h2 id="printf命令"><a class="markdownIt-Anchor" href="#printf命令"></a> printf命令</h2>
<p>printf命令用于格式化输出，类似于C/C++中的printf函数。</p>
<p>默认不会在字符串末尾添加换行符。</p>
<p><strong>命令格式：</strong></p>
<pre class="highlight"><code class="hljs bash"><span class="hljs-built_in">printf</span> format-string [arguments...]<br></code></pre>
<p><strong>用法示例</strong><br />
脚本内容：</p>
<pre class="highlight"><code class="hljs bash"><span class="hljs-built_in">printf</span> <span class="hljs-string">&quot;%10d.\n&quot;</span> 123  <span class="hljs-comment"># 占10位，右对齐</span><br><span class="hljs-built_in">printf</span> <span class="hljs-string">&quot;%-10.2f.\n&quot;</span> 123.123321  <span class="hljs-comment"># 占10位，保留2位小数，左对齐</span><br><span class="hljs-built_in">printf</span> <span class="hljs-string">&quot;My name is %s\n&quot;</span> <span class="hljs-string">&quot;yxc&quot;</span>  <span class="hljs-comment"># 格式化输出字符串</span><br><span class="hljs-built_in">printf</span> <span class="hljs-string">&quot;%d * %d = %d\n&quot;</span>  2 3 `expr 2 \* 3` <span class="hljs-comment"># 表达式的值作为参数</span><br></code></pre>
<p>输出结果：</p>
<pre class="highlight"><code class="hljs bash">       123.<br>123.12    .<br>My name is yxc<br>2 * 3 = 6<br></code></pre>
<h2 id="test命令与判断符号"><a class="markdownIt-Anchor" href="#test命令与判断符号"></a> test命令与判断符号[]</h2>
<p><strong>逻辑运算符&amp;&amp;和||</strong></p>
<p><code>&amp;&amp;</code> 表示与，<code>||</code>表示或<br />
二者具有短路原则：<br />
<code>expr1 &amp;&amp; expr2</code>：当expr1为假时，直接忽略expr2<br />
<code>expr1 || expr2</code>：当expr1为真时，直接忽略expr2<br />
表达式的exit code为0，表示真；为非零，表示假。（与C/C++中的定义相反）</p>
<p><strong>test命令</strong></p>
<p>在命令行中输入<code>man test</code>，可以查看<code>test</code>命令的用法。</p>
<p><code>test</code>命令用于判断文件类型，以及对变量做比较。</p>
<p><code>test</code>命令用<code>exit code</code>返回结果，而不是使用<code>stdout</code>。0表示真，非0表示假。</p>
<p>例如：</p>
<pre class="highlight"><code class="hljs bash"><span class="hljs-built_in">test</span> 2 -lt 3  <span class="hljs-comment"># 为真，返回值为0</span><br><span class="hljs-built_in">echo</span> $?  <span class="hljs-comment"># 输出上个命令的返回值，输出0</span><br></code></pre>
<pre class="highlight"><code class="hljs bash">acs@9e0ebfcd82d7:~$ ls  <span class="hljs-comment"># 列出当前目录下的所有文件</span><br>homework  output.txt  test.sh  tmp<br>acs@9e0ebfcd82d7:~$ <span class="hljs-built_in">test</span> -e test.sh &amp;&amp; <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;exist&quot;</span> || <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Not exist&quot;</span><br>exist  <span class="hljs-comment"># test.sh 文件存在</span><br>acs@9e0ebfcd82d7:~$ <span class="hljs-built_in">test</span> -e test2.sh &amp;&amp; <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;exist&quot;</span> || <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Not exist&quot;</span><br>Not exist  <span class="hljs-comment"># testh2.sh 文件不存在</span><br></code></pre>
<p><strong>文件类型判断</strong><br />
命令格式：</p>
<pre class="highlight"><code class="hljs bash"><span class="hljs-built_in">test</span> -e filename  <span class="hljs-comment"># 判断文件是否存在</span><br></code></pre>
<p><img src="https://i.loli.net/2021/10/31/F17LM2qIBzAsfPO.png" alt="image-20211031165403158" / srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20300%20300'%3E%3C/svg%3E" data-src="https://i.loli.net/2021/10/31/F17LM2qIBzAsfPO.png" class="lozad post-image"></p>
<p><strong>文件权限判断</strong><br />
命令格式：</p>
<pre class="highlight"><code class="hljs bash"><span class="hljs-built_in">test</span> -r filename  <span class="hljs-comment"># 判断文件是否可读</span><br></code></pre>
<p><img src="https://i.loli.net/2021/10/31/JPBcq912s4pGgtn.png" alt="image-20211031165504265" / srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20300%20300'%3E%3C/svg%3E" data-src="https://i.loli.net/2021/10/31/JPBcq912s4pGgtn.png" class="lozad post-image"></p>
<p><strong>整数间的比较</strong><br />
命令格式：</p>
<pre class="highlight"><code class="hljs bash"><span class="hljs-built_in">test</span> <span class="hljs-variable">$a</span> -eq <span class="hljs-variable">$b</span>  <span class="hljs-comment"># a是否等于b</span><br></code></pre>
<p><img src="https://i.loli.net/2021/10/31/BHxAEab9G43NS1v.png" alt="image-20211031165546142" / srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20300%20300'%3E%3C/svg%3E" data-src="https://i.loli.net/2021/10/31/BHxAEab9G43NS1v.png" class="lozad post-image"></p>
<p><strong>字符串比较</strong></p>
<p><img src="https://i.loli.net/2021/10/31/Z4iHIKC13A7EVoa.png" alt="image-20211031165817484" / srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20300%20300'%3E%3C/svg%3E" data-src="https://i.loli.net/2021/10/31/Z4iHIKC13A7EVoa.png" class="lozad post-image"></p>
<p><strong>多重条件判定</strong><br />
命令格式：</p>
<pre class="highlight"><code class="hljs bash"><span class="hljs-built_in">test</span> -r filename -a -x filename<br></code></pre>
<p><img src="https://i.loli.net/2021/10/31/nLjXYR6ufqlJUs2.png" alt="image-20211031165912390" / srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20300%20300'%3E%3C/svg%3E" data-src="https://i.loli.net/2021/10/31/nLjXYR6ufqlJUs2.png" class="lozad post-image"></p>
<p><strong>判断符号[]</strong><br />
[]与test用法几乎一模一样，更常用于if语句中。另外[[]]是[]的加强版，支持的特性更多。</p>
<p>例如：</p>
<pre class="highlight"><code class="hljs bash">[ 2 -lt 3 ]  <span class="hljs-comment"># 为真，返回值为0</span><br><span class="hljs-built_in">echo</span> $?  <span class="hljs-comment"># 输出上个命令的返回值，输出0</span><br>acs@9e0ebfcd82d7:~$ ls  <span class="hljs-comment"># 列出当前目录下的所有文件</span><br>homework  output.txt  test.sh  tmp<br>acs@9e0ebfcd82d7:~$ [ -e test.sh ] &amp;&amp; <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;exist&quot;</span> || <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Not exist&quot;</span><br>exist  <span class="hljs-comment"># test.sh 文件存在</span><br>acs@9e0ebfcd82d7:~$ [ -e test2.sh ] &amp;&amp; <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;exist&quot;</span> || <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Not exist&quot;</span><br>Not exist  <span class="hljs-comment"># testh2.sh 文件不存在</span><br></code></pre>
<p>注意：</p>
<ol>
<li>[]内的每一项都要用空格隔开</li>
<li>中括号内的变量，最好用双引号括起来</li>
<li>中括号内的常数，最好用单或双引号括起来</li>
</ol>
<p>例如：</p>
<pre class="highlight"><code class="hljs bash">name=<span class="hljs-string">&quot;acwing yxc&quot;</span><br>[ <span class="hljs-variable">$name</span> == <span class="hljs-string">&quot;acwing yxc&quot;</span> ]  <span class="hljs-comment"># 错误，等价于 [ acwing yxc == &quot;acwing yxc&quot; ]，参数太多</span><br>[ <span class="hljs-string">&quot;<span class="hljs-variable">$name</span>&quot;</span> == <span class="hljs-string">&quot;acwing yxc&quot;</span> ]  <span class="hljs-comment"># 正确</span><br></code></pre>
<h2 id="判断语句"><a class="markdownIt-Anchor" href="#判断语句"></a> 判断语句</h2>
<p><strong>if…then形式</strong><br />
类似于C/C++中的if-else语句。</p>
<p><strong>单层if</strong><br />
命令格式：</p>
<pre class="highlight"><code class="hljs plaintext">if condition<br>then<br>    语句1<br>    语句2<br>    ...<br>fi<br></code></pre>
<p>示例：</p>
<pre class="highlight"><code class="hljs plaintext">a=3<br>b=4<br><br>if [ &quot;$a&quot; -lt &quot;$b&quot; ] &amp;&amp; [ &quot;$a&quot; -gt 2 ]<br>then<br>    echo $&#123;a&#125;在范围内<br>fi<br></code></pre>
<p>输出结果：</p>
<p>3在范围内</p>
<p><strong>单层if-else</strong><br />
命令格式</p>
<pre class="highlight"><code class="hljs plaintext">if condition<br>then<br>    语句1<br>    语句2<br>    ...<br>else<br>    语句1<br>    语句2<br>    ...<br>fi<br></code></pre>
<p>示例：</p>
<pre class="highlight"><code class="hljs plaintext">a=3<br>b=4<br><br>if ! [ &quot;$a&quot; -lt &quot;$b&quot; ]<br>then<br>    echo $&#123;a&#125;不小于$&#123;b&#125;<br>else<br>    echo $&#123;a&#125;小于$&#123;b&#125;<br>fi<br></code></pre>
<p>输出结果：</p>
<p>3小于4</p>
<p><strong>多层if-elif-elif-else</strong><br />
命令格式</p>
<pre class="highlight"><code class="hljs plaintext">if condition<br>then<br>    语句1<br>    语句2<br>    ...<br>elif condition<br>then<br>    语句1<br>    语句2<br>    ...<br>elif condition<br>then<br>    语句1<br>    语句2<br>else<br>    语句1<br>    语句2<br>    ...<br>fi<br></code></pre>
<p>示例：</p>
<pre class="highlight"><code class="hljs plaintext">a=4<br><br>if [ $a -eq 1 ]<br>then<br>    echo $&#123;a&#125;等于1<br>elif [ $a -eq 2 ]<br>then<br>    echo $&#123;a&#125;等于2<br>elif [ $a -eq 3 ]<br>then<br>    echo $&#123;a&#125;等于3<br>else<br>    echo 其他<br>fi<br></code></pre>
<p>输出结果：</p>
<p>其他<br />
<strong>case…esac形式</strong><br />
类似于C/C++中的switch语句。</p>
<p>命令格式</p>
<pre class="highlight"><code class="hljs plaintext">case $变量名称 in<br>    值1)<br>        语句1<br>        语句2<br>        ...<br>        ;;  # 类似于C/C++中的break<br>    值2)<br>        语句1<br>        语句2<br>        ...<br>        ;;<br>    *)  # 类似于C/C++中的default<br>        语句1<br>        语句2<br>        ...<br>        ;;<br>esac<br></code></pre>
<p>示例：</p>
<pre class="highlight"><code class="hljs plaintext">a=4<br><br>case $a in<br>    1)<br>        echo $&#123;a&#125;等于1<br>        ;;  <br>    2)<br>        echo $&#123;a&#125;等于2<br>        ;;  <br>    3)                                                <br>        echo $&#123;a&#125;等于3<br>        ;;  <br>    *)<br>        echo 其他<br>        ;;  <br>esac<br></code></pre>
<p>输出结果：</p>
<p>其他</p>
<h2 id="循环语句"><a class="markdownIt-Anchor" href="#循环语句"></a> 循环语句</h2>
<p><strong>for…in…do…done</strong><br />
命令格式：</p>
<pre class="highlight"><code class="hljs plaintext">for var in val1 val2 val3<br>do<br>    语句1<br>    语句2<br>    ...<br>done<br></code></pre>
<p>示例1，输出a 2 cc，每个元素一行：</p>
<pre class="highlight"><code class="hljs plaintext">for i in a 2 cc<br>do<br>    echo $i<br>done<br></code></pre>
<p>示例2，输出当前路径下的所有文件名，每个文件名一行：</p>
<pre class="highlight"><code class="hljs plaintext">for file in `ls`<br>do<br>    echo $file<br>done<br></code></pre>
<p>示例3，输出1-10</p>
<pre class="highlight"><code class="hljs plaintext">for i in $(seq 1 10)<br>do<br>    echo $i<br>done<br></code></pre>
<p>示例4，使用{1…10} 或者 {a…z}</p>
<pre class="highlight"><code class="hljs plaintext">for i in &#123;a..z&#125;<br>do<br>    echo $i<br>done<br></code></pre>
<p><strong>for ((…;…;…)) do…done</strong><br />
命令格式：</p>
<pre class="highlight"><code class="hljs plaintext">for ((expression; condition; expression))<br>do<br>    语句1<br>    语句2<br>done<br></code></pre>
<p>示例，输出1-10，每个数占一行：</p>
<pre class="highlight"><code class="hljs plaintext">for ((i=1; i&lt;=10; i++))<br>do<br>    echo $i<br>done<br></code></pre>
<p><strong>while…do…done循环</strong><br />
命令格式：</p>
<pre class="highlight"><code class="hljs plaintext">while condition<br>do<br>    语句1<br>    语句2<br>    ...<br>done<br></code></pre>
<p>示例，文件结束符为Ctrl+d，输入文件结束符后read指令返回false。</p>
<pre class="highlight"><code class="hljs plaintext">while read name<br>do<br>    echo $name<br>done<br></code></pre>
<p><strong>until…do…done循环</strong><br />
当条件为真时结束。</p>
<p>命令格式：</p>
<pre class="highlight"><code class="hljs plaintext">until condition<br>do<br>    语句1<br>    语句2<br>    ...<br>done<br></code></pre>
<p>示例，当用户输入yes或者YES时结束，否则一直等待读入。</p>
<pre class="highlight"><code class="hljs plaintext">until [ &quot;$&#123;word&#125;&quot; == &quot;yes&quot; ] || [ &quot;$&#123;word&#125;&quot; == &quot;YES&quot; ]<br>do<br>    read -p &quot;Please input yes/YES to stop this program: &quot; word<br>done<br></code></pre>
<p><strong>break命令</strong><br />
跳出当前一层循环，注意与C/C++不同的是：break不能跳出case语句。</p>
<p>示例</p>
<pre class="highlight"><code class="hljs plaintext">while read name<br>do<br>    for ((i=1;i&lt;=10;i++))<br>    do<br>        case $i in<br>            8)<br>                break<br>                ;;<br>            *)<br>                echo $i<br>                ;;<br>        esac<br>    done<br>done<br></code></pre>
<p>该示例每读入非EOF的字符串，会输出一遍1-7。<br />
该程序可以输入Ctrl+d文件结束符来结束，也可以直接用Ctrl+c杀掉该进程。</p>
<p><strong>continue命令</strong><br />
跳出当前循环。</p>
<p>示例：</p>
<pre class="highlight"><code class="hljs plaintext">for ((i=1;i&lt;=10;i++))<br>do<br>    if [ `expr $i % 2` -eq 0 ]<br>    then<br>        continue<br>    fi<br>    echo $i<br>done<br></code></pre>
<p>该程序输出1-10中的所有奇数。</p>
<p>死循环的处理方式<br />
如果AC Terminal可以打开该程序，则输入Ctrl+c即可。</p>
<p>否则可以直接关闭进程：</p>
<p>使用top命令找到进程的PID<br />
输入kill -9 PID即可关掉此进程</p>
<h2 id="函数"><a class="markdownIt-Anchor" href="#函数"></a> 函数</h2>
<p>bash中的函数类似于C/C<ins>中的函数，但return的返回值与C/C</ins>不同，返回的是exit code，取值为0-255，0表示正常结束。</p>
<p>如果想获取函数的输出结果，可以通过echo输出到stdout中，然后通过<code>$(function_name)</code>来获取stdout中的结果。</p>
<p>函数的return值可以通过$?来获取。</p>
<p>命令格式：</p>
<pre class="highlight"><code class="hljs bash">[<span class="hljs-keyword">function</span>] <span class="hljs-function"><span class="hljs-title">func_name</span></span>() &#123;  <span class="hljs-comment"># function关键字可以省略</span><br>    语句1<br>    语句2<br>    ...<br>&#125;<br></code></pre>
<p><strong>不获取 return值和stdout值</strong></p>
<p>示例</p>
<pre class="highlight"><code class="hljs plaintext">func() &#123;<br>    name=yxc<br>    echo &quot;Hello $name&quot;<br>&#125;<br><br>func<br></code></pre>
<p>输出结果：</p>
<pre class="highlight"><code class="hljs plaintext">Hello yxc<br></code></pre>
<p><strong>获取 return值和stdout值</strong><br />
不写return时，默认return 0。</p>
<p>示例</p>
<pre class="highlight"><code class="hljs plaintext">func() &#123;<br>    name=yxc<br>    echo &quot;Hello $name&quot;<br><br>    return 123<br><br>&#125;<br>output=$(func)<br>ret=$?<br><br>echo &quot;output = $output&quot;<br>echo &quot;return = $ret&quot;<br></code></pre>
<p>输出结果：</p>
<pre class="highlight"><code class="hljs plaintext">output = Hello yxc<br>return = 123<br></code></pre>
<p>函数的输入参数<br />
在函数内，<code>$1</code>表示第一个输入参数，<code>$2</code>表示第二个输入参数，依此类推。</p>
<p>注意：函数内的<code>$0</code>仍然是文件名，而不是函数名。</p>
<p>示例：</p>
<pre class="highlight"><code class="hljs plaintext">func() &#123;  # 递归计算 $1 + ($1 - 1) + ($1 - 2) + ... + 0<br>    word=&quot;&quot;<br>    while [ &quot;$&#123;word&#125;&quot; != &#x27;y&#x27; ] &amp;&amp; [ &quot;$&#123;word&#125;&quot; != &#x27;n&#x27; ]<br>    do<br>        read -p &quot;要进入func($1)函数吗？请输入y/n：&quot; word<br>    done<br><br>    if [ &quot;$word&quot; == &#x27;n&#x27; ]<br>    then<br>        echo 0<br>        return 0<br>    fi  <br>    <br>    if [ $1 -le 0 ] <br>    then<br>        echo 0<br>        return 0<br>    fi  <br>    <br>    sum=$(func $(expr $1 - 1))<br>    echo $(expr $sum + $1)<br><br>&#125;<br><br>echo $(func 10)<br></code></pre>
<p>输出结果：</p>
<p>55<br />
<strong>函数内的局部变量</strong><br />
可以在函数内定义局部变量，作用范围仅在当前函数内。</p>
<p>可以在递归函数中定义局部变量。</p>
<p>命令格式：</p>
<pre class="highlight"><code class="hljs plaintext">local 变量名=变量值<br></code></pre>
<p>例如：</p>
<pre class="highlight"><code class="hljs plaintext">#! /bin/bash<br><br>func() &#123;<br>    local name=yxc<br>    echo $name<br>&#125;<br>func<br><br>echo $name<br></code></pre>
<p>输出结果：</p>
<p>yxc</p>
<p>第一行为函数内的name变量，第二行为函数外调用name变量，会发现此时该变量不存在。</p>
<h2 id="exit命令"><a class="markdownIt-Anchor" href="#exit命令"></a> exit命令</h2>
<p>exit命令用来退出当前shell进程，并返回一个退出状态；使用$?可以接收这个退出状态。</p>
<p>exit命令可以接受一个整数值作为参数，代表退出状态。如果不指定，默认状态值是 0。</p>
<p>exit退出状态只能是一个介于 0~255 之间的整数，其中只有 0 表示成功，其它值都表示失败。</p>
<p>示例：</p>
<p><a target="_blank" rel="noopener" href="http://xn--test-pj9fv59dv9mi32c.sh">创建脚本test.sh</a>，内容如下：</p>
<pre class="highlight"><code class="hljs plaintext">#! /bin/bash<br><br>if [ $# -ne 1 ]  # 如果传入参数个数等于1，则正常退出；否则非正常退出。<br>then<br>    echo &quot;arguments not valid&quot;<br>    exit 1<br>else<br>    echo &quot;arguments valid&quot;<br>    exit 0<br>fi<br></code></pre>
<p>执行该脚本：</p>
<pre class="highlight"><code class="hljs plaintext">acs@9e0ebfcd82d7:~$ chmod +x test.sh <br>acs@9e0ebfcd82d7:~$ ./test.sh acwing<br>arguments valid<br>acs@9e0ebfcd82d7:~$ echo $?  # 传入一个参数，则正常退出，exit code为0<br>0<br>acs@9e0ebfcd82d7:~$ ./test.sh <br>arguments not valid<br>acs@9e0ebfcd82d7:~$ echo $?  # 传入参数个数不是1，则非正常退出，exit code为1<br>1<br></code></pre>
<h2 id="文件重定向"><a class="markdownIt-Anchor" href="#文件重定向"></a> 文件重定向</h2>
<p>每个进程默认打开3个文件描述符：</p>
<ul>
<li>stdin标准输入，从命令行读取数据，文件描述符为0</li>
<li>stdout标准输出，向命令行输出数据，文件描述符为1</li>
<li>stderr标准错误输出，向命令行输出数据，文件描述符为2</li>
</ul>
<p>可以用文件重定向将这三个文件重定向到其他文件中。</p>
<p><img src="https://i.loli.net/2021/10/31/p376LwQSYiXRova.png" alt="image-20211031171841299" / srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20300%20300'%3E%3C/svg%3E" data-src="https://i.loli.net/2021/10/31/p376LwQSYiXRova.png" class="lozad post-image"></p>
<p><strong>输入和输出重定向</strong></p>
<pre class="highlight"><code class="hljs plaintext">echo -e &quot;Hello \c&quot; &gt; output.txt  # 将stdout重定向到output.txt中<br>echo &quot;World&quot; &gt;&gt; output.txt  # 将字符串追加到output.txt中<br><br>read str &lt; output.txt  # 从output.txt中读取字符串<br><br>echo $str  # 输出结果：Hello World<br></code></pre>
<p><strong>同时重定向stdin和stdout</strong><br />
创建bash脚本：</p>
<pre class="highlight"><code class="hljs plaintext">#! /bin/bash<br><br>read a<br>read b<br><br>echo $(expr &quot;$a&quot; + &quot;$b&quot;)<br></code></pre>
<p>创建input.txt，里面的内容为：</p>
<p>3<br />
4<br />
执行命令：</p>
<pre class="highlight"><code class="hljs plaintext">acs@9e0ebfcd82d7:~$ chmod +x test.sh  # 添加可执行权限<br>acs@9e0ebfcd82d7:~$ ./test.sh &lt; input.txt &gt; output.txt  # 从input.txt中读取内容，将输出写入output.txt中<br>acs@9e0ebfcd82d7:~$ cat output.txt  # 查看output.txt中的内容<br>7<br></code></pre>
<h2 id="引入外部脚本"><a class="markdownIt-Anchor" href="#引入外部脚本"></a> 引入外部脚本</h2>
<p>类似于C/C++中的include操作，bash也可以引入其他文件中的代码。</p>
<p>语法格式：</p>
<pre class="highlight"><code class="hljs plaintext">. filename  # 注意点和文件名之间有一个空格<br></code></pre>
<p>或</p>
<pre class="highlight"><code class="hljs plaintext">source filename<br></code></pre>
<p>示例<br />
<a target="_blank" rel="noopener" href="http://xn--test1-ll6hz28e.sh">创建test1.sh</a>，内容为：</p>
<pre class="highlight"><code class="hljs plaintext">#! /bin/bash<br><br>name=yxc  # 定义变量name<br></code></pre>
<p><a target="_blank" rel="noopener" href="http://xn--test2-ll6hm0je43ajq1b.sh">然后创建test2.sh</a>，内容为：</p>
<pre class="highlight"><code class="hljs plaintext">#! /bin/bash<br><br>source test1.sh # 或 . test1.sh<br><br>echo My name is: $name  # 可以使用test1.sh中的变量<br></code></pre>
<p>执行命令：</p>
<pre class="highlight"><code class="hljs plaintext">acs@9e0ebfcd82d7:~$ chmod +x test2.sh <br>acs@9e0ebfcd82d7:~$ ./test2.sh <br>My name is: yxc<br></code></pre>

  </div>
  <div>
  
  </div>
</article>
<div class="nav">
  
  
  <div class="nav-item-next">
    <a href="/2021/10/31/2-tmux和vim/" class="nav-link">
      <div>
        <div class="nav-label">下一篇</div>
        
        <div class="nav-title">2-tmux和vim </div>
        
      </div>
      <i class="iconfont icon-right nav-next-icon"></i>
    </a>
  </div>
  
</div>

<div class="card card-content comment-card" style="margin-top: 16px;">
  <div class="comment-card-title">评论</div>
  
</div>

<div class="card card-content toc-card" id="mobiletoc">
  <div class="toc-header"><i class="iconfont icon-menu" style="padding-right: 2px;"></i>目录</div>
<ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#shell%E8%AF%AD%E6%B3%95"><span class="toc-number">1.</span> <span class="toc-text"> shell语法</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A6%82%E8%AE%BA"><span class="toc-number">1.1.</span> <span class="toc-text"> 概论</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%A8%E9%87%8A"><span class="toc-number">1.2.</span> <span class="toc-text"> 注释</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%98%E9%87%8F"><span class="toc-number">1.3.</span> <span class="toc-text"> 变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E5%8F%98%E9%87%8F"><span class="toc-number">1.4.</span> <span class="toc-text"> 默认变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E7%BB%84"><span class="toc-number">1.5.</span> <span class="toc-text"> 数组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#expr%E5%91%BD%E4%BB%A4"><span class="toc-number">1.6.</span> <span class="toc-text"> expr命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#read%E5%91%BD%E4%BB%A4"><span class="toc-number">1.7.</span> <span class="toc-text"> read命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#echo%E5%91%BD%E4%BB%A4"><span class="toc-number">1.8.</span> <span class="toc-text"> echo命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#printf%E5%91%BD%E4%BB%A4"><span class="toc-number">1.9.</span> <span class="toc-text"> printf命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#test%E5%91%BD%E4%BB%A4%E4%B8%8E%E5%88%A4%E6%96%AD%E7%AC%A6%E5%8F%B7"><span class="toc-number">1.10.</span> <span class="toc-text"> test命令与判断符号[]</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%A4%E6%96%AD%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.11.</span> <span class="toc-text"> 判断语句</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.12.</span> <span class="toc-text"> 循环语句</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0"><span class="toc-number">1.13.</span> <span class="toc-text"> 函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#exit%E5%91%BD%E4%BB%A4"><span class="toc-number">1.14.</span> <span class="toc-text"> exit命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">1.15.</span> <span class="toc-text"> 文件重定向</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%95%E5%85%A5%E5%A4%96%E9%83%A8%E8%84%9A%E6%9C%AC"><span class="toc-number">1.16.</span> <span class="toc-text"> 引入外部脚本</span></a></li></ol></li></ol>
</div></main>
          <aside class="left-column">
            
            <div class="card card-author">
              
<img src="/img/head_img.jpg" class="author-img">

<p class="author-name">胡澳治</p>
<p class="author-description">19级本科生，热爱篮球</p>
<div class="author-message">
  <a class="author-posts-count" href="/archives">
    <span>20</span>
    <span>文章</span>
  </a>
  <a class="author-categories-count" href="/categories">
    <span>6</span>
    <span>分类</span>
  </a>
  <a class="author-tags-count" href="/tags">
    <span>11</span>
    <span>标签</span>
  </a>
</div>

<div class="author-card-society">
  
    <div class="author-card-society-icon">
      <a target="_blank" rel="noopener" href="https://github.com/huaozhi">
        <i class="iconfont icon-github society-icon"></i>
      </a>
    </div>
  
    <div class="author-card-society-icon">
      <a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/huaozhi/huaozhi.github.io/main/img/%E5%BE%AE%E4%BF%A1%E5%8F%B7.png">
        <i class="iconfont icon-wechat society-icon"></i>
      </a>
    </div>
  
    <div class="author-card-society-icon">
      <a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_45911345?spm=1010.2135.3001.5343">
        <i class="iconfont /source/img/csdn.png society-icon"></i>
      </a>
    </div>
  
</div>

            </div>
            
            <div class="sticky-tablet">
  
  
  <article class="display-when-two-columns spacer">
    <div class="card card-content toc-card">
      <div class="toc-header"><i class="iconfont icon-menu" style="padding-right: 2px;"></i>目录</div>
<ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#shell%E8%AF%AD%E6%B3%95"><span class="toc-number">1.</span> <span class="toc-text"> shell语法</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A6%82%E8%AE%BA"><span class="toc-number">1.1.</span> <span class="toc-text"> 概论</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%A8%E9%87%8A"><span class="toc-number">1.2.</span> <span class="toc-text"> 注释</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%98%E9%87%8F"><span class="toc-number">1.3.</span> <span class="toc-text"> 变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E5%8F%98%E9%87%8F"><span class="toc-number">1.4.</span> <span class="toc-text"> 默认变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E7%BB%84"><span class="toc-number">1.5.</span> <span class="toc-text"> 数组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#expr%E5%91%BD%E4%BB%A4"><span class="toc-number">1.6.</span> <span class="toc-text"> expr命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#read%E5%91%BD%E4%BB%A4"><span class="toc-number">1.7.</span> <span class="toc-text"> read命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#echo%E5%91%BD%E4%BB%A4"><span class="toc-number">1.8.</span> <span class="toc-text"> echo命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#printf%E5%91%BD%E4%BB%A4"><span class="toc-number">1.9.</span> <span class="toc-text"> printf命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#test%E5%91%BD%E4%BB%A4%E4%B8%8E%E5%88%A4%E6%96%AD%E7%AC%A6%E5%8F%B7"><span class="toc-number">1.10.</span> <span class="toc-text"> test命令与判断符号[]</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%A4%E6%96%AD%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.11.</span> <span class="toc-text"> 判断语句</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.12.</span> <span class="toc-text"> 循环语句</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0"><span class="toc-number">1.13.</span> <span class="toc-text"> 函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#exit%E5%91%BD%E4%BB%A4"><span class="toc-number">1.14.</span> <span class="toc-text"> exit命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">1.15.</span> <span class="toc-text"> 文件重定向</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%95%E5%85%A5%E5%A4%96%E9%83%A8%E8%84%9A%E6%9C%AC"><span class="toc-number">1.16.</span> <span class="toc-text"> 引入外部脚本</span></a></li></ol></li></ol>
    </div>
  </article>
  
  
  <article class="card card-content">
    <div class="categories-card">
  <div class="categories-header"><i class="iconfont icon-fenlei" style="padding-right: 2px;"></i>分类</div>
  <div class="categories-list">
    
      <a href="/categories/数据结构">
        <div class="categories-list-item">
          数据结构
          <span class="categories-list-item-badge">4</span>
        </div>
      </a>
    
      <a href="/categories/数学问题">
        <div class="categories-list-item">
          数学问题
          <span class="categories-list-item-badge">3</span>
        </div>
      </a>
    
      <a href="/categories/PAT甲级">
        <div class="categories-list-item">
          PAT甲级
          <span class="categories-list-item-badge">4</span>
        </div>
      </a>
    
      <a href="/categories/力扣">
        <div class="categories-list-item">
          力扣
          <span class="categories-list-item-badge">1</span>
        </div>
      </a>
    
      <a href="/categories/Linux基础课">
        <div class="categories-list-item">
          Linux基础课
          <span class="categories-list-item-badge">5</span>
        </div>
      </a>
    
      <a href="/categories/git">
        <div class="categories-list-item">
          git
          <span class="categories-list-item-badge">1</span>
        </div>
      </a>
    
  </div>
</div>
  </article>
  
  <article class="card card-content">
    <div class="tags-card">
  <div class="tags-header"><i class="iconfont icon-biaoqian" style="padding-right: 2px;"></i>热门标签</div>
  <div class="tags-list">
    
    <a href="\tags\并查集" title="并查集"><div class="tags-list-item">并查集</div></a>
    
    <a href="\tags\最大公约数" title="最大公约数"><div class="tags-list-item">最大公约数</div></a>
    
    <a href="\tags\素数判断" title="素数判断"><div class="tags-list-item">素数判断</div></a>
    
    <a href="\tags\质因数分解" title="质因数分解"><div class="tags-list-item">质因数分解</div></a>
    
    <a href="\tags\大顶堆" title="大顶堆"><div class="tags-list-item">大顶堆</div></a>
    
    <a href="\tags\树的遍历" title="树的遍历"><div class="tags-list-item">树的遍历</div></a>
    
    <a href="\tags\数学问题" title="数学问题"><div class="tags-list-item">数学问题</div></a>
    
    <a href="\tags\动态规划" title="动态规划"><div class="tags-list-item">动态规划</div></a>
    
    <a href="\tags\AVL树" title="AVL树"><div class="tags-list-item">AVL树</div></a>
    
    <a href="\tags\最短路径" title="最短路径"><div class="tags-list-item">最短路径</div></a>
    
    <a href="\tags\AcWing课程" title="AcWing课程"><div class="tags-list-item">AcWing课程</div></a>
    
  </div>
</div>
  </article>
  
  
</div>
          </aside>
          <aside class="right-column">
            <div class="sticky-widescreen">
  
  
  <article class="card card-content toc-card">
    <div class="toc-header"><i class="iconfont icon-menu" style="padding-right: 2px;"></i>目录</div>
<ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#shell%E8%AF%AD%E6%B3%95"><span class="toc-number">1.</span> <span class="toc-text"> shell语法</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A6%82%E8%AE%BA"><span class="toc-number">1.1.</span> <span class="toc-text"> 概论</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%A8%E9%87%8A"><span class="toc-number">1.2.</span> <span class="toc-text"> 注释</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%98%E9%87%8F"><span class="toc-number">1.3.</span> <span class="toc-text"> 变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E5%8F%98%E9%87%8F"><span class="toc-number">1.4.</span> <span class="toc-text"> 默认变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E7%BB%84"><span class="toc-number">1.5.</span> <span class="toc-text"> 数组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#expr%E5%91%BD%E4%BB%A4"><span class="toc-number">1.6.</span> <span class="toc-text"> expr命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#read%E5%91%BD%E4%BB%A4"><span class="toc-number">1.7.</span> <span class="toc-text"> read命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#echo%E5%91%BD%E4%BB%A4"><span class="toc-number">1.8.</span> <span class="toc-text"> echo命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#printf%E5%91%BD%E4%BB%A4"><span class="toc-number">1.9.</span> <span class="toc-text"> printf命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#test%E5%91%BD%E4%BB%A4%E4%B8%8E%E5%88%A4%E6%96%AD%E7%AC%A6%E5%8F%B7"><span class="toc-number">1.10.</span> <span class="toc-text"> test命令与判断符号[]</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%A4%E6%96%AD%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.11.</span> <span class="toc-text"> 判断语句</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.12.</span> <span class="toc-text"> 循环语句</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0"><span class="toc-number">1.13.</span> <span class="toc-text"> 函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#exit%E5%91%BD%E4%BB%A4"><span class="toc-number">1.14.</span> <span class="toc-text"> exit命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">1.15.</span> <span class="toc-text"> 文件重定向</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%95%E5%85%A5%E5%A4%96%E9%83%A8%E8%84%9A%E6%9C%AC"><span class="toc-number">1.16.</span> <span class="toc-text"> 引入外部脚本</span></a></li></ol></li></ol>
  </article>
  
  
  <article class="card card-content">
    <div class="recent-posts-card">
  <div class="recent-posts-header"><i class="iconfont icon-wenzhang_huaban" style="padding-right: 2px;"></i>最近文章</div>
  <div class="recent-posts-list">
    
      <div class="recent-posts-item">
        <div class="recent-posts-item-title">2021-10-31</div>
        <a href="/2021/10/31/3-shell语法/"><div class="recent-posts-item-content">3-shell语法</div></a>
      </div>
    
      <div class="recent-posts-item">
        <div class="recent-posts-item-title">2021-10-31</div>
        <a href="/2021/10/31/2-tmux和vim/"><div class="recent-posts-item-content">2-tmux和vim</div></a>
      </div>
    
      <div class="recent-posts-item">
        <div class="recent-posts-item-title">2021-10-31</div>
        <a href="/2021/10/31/1-常用文件管理命令/"><div class="recent-posts-item-content">1-常用文件管理命令</div></a>
      </div>
    
      <div class="recent-posts-item">
        <div class="recent-posts-item-title">2021-10-30</div>
        <a href="/2021/10/30/8-租云服务器及配docker环境/"><div class="recent-posts-item-content">8-租云服务器及配docker环境</div></a>
      </div>
    
  </div>
</div>
  </article>
  
  
</div>
          </aside>
        </div>
      </div>
    </div>
  </div>
  
  <footer class="footer">
  <div class="footer-container">
    <div>
      <div class="footer-dsc">
        <span>Copyright ©
          
          2020 -
          
          2021
        </span>
        <a href="/" class="footer-link">我的博客 </a>
      </div>
    </div>

    
    <div class="footer-dsc">
      
      
      Powered by
      <a href="https://hexo.io/" class="footer-link" target="_blank" rel="nofollow noopener noreferrer">&nbsp;Hexo </a>
      
      
      
      
    </div>
    
    
    
    
      <div class="footer-dsc">
        
        本站总访问量<span id="busuanzi_value_site_pv"></span>次
        
        
        <span>&nbsp;|&nbsp;</span>
        
        
        本站总访客数<span id="busuanzi_value_site_uv"></span>次
        
      </div>
      
    
</footer>
  <a role="button" id="scrollbutton" class="basebutton" >
  <i class="iconfont icon-arrowleft button-icon"></i>
</a>
<a role="button" id="menubutton" class="basebutton">
  <i class="iconfont icon-menu button-icon"></i>
</a>
<a role="button" id="popbutton" class="basebutton">
  <i class="iconfont icon-expand button-icon"></i>
</a>
<a role="button" id="darkbutton" class="basebutton darkwidget">
  <i class="iconfont icon-weather button-icon"></i>
</a>

  
  
  

  
  
    
<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css">

  

  
  
  <script>
  var addImgLayout = function () {
    var img = document.querySelectorAll('.post-content img');
    var i;
    for (i = 0; i < img.length; i++) {
      var wrapper = document.createElement('a');
      wrapper.setAttribute('data-fslightbox', 'gallery');
      wrapper.setAttribute('href', img[i].getAttribute('data-src'));
      wrapper.setAttribute('style', 'width: 100%; display: flex; justify-content: center;');
      img[i].parentElement.insertBefore(wrapper, img[i]);
      wrapper.appendChild(img[i]);
    }
    refreshFsLightbox();
  }
</script>
<script>loadScript("//cdn.jsdelivr.net/npm/fslightbox@3.1.0/index.min.js", addImgLayout)</script>
  
  
  
<script src="/js/main.js"></script>

  
  <script>loadScript("/js/lib/busuanzi.min.js")</script>
  
  
  <script>
    var addLazyload = function () {
      var observer = lozad('.lozad', {
        load: function (el) {
          el.srcset = el.getAttribute('data-src');
        },
        loaded: function (el) {
          el.classList.add('loaded');
        }
      });
      observer.observe();
    }
  </script>
  <script>loadScript("/js/lib/lozad.min.js", addLazyload)</script>
  
  
</body>

</html>